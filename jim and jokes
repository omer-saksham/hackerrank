#include <stdio.h>
#include <stdlib.h>

#define MAX_EVENTS 100000
#define MAX_BASE 32
#define MAX_DAY 100
#define MAX_MAP 1000000  // Safe upper bound for value

int to_value_if_valid(int base, int day) {
    if (base < 2) return -1;

    int value = 0;
    int multiplier = 1;
    while (day > 0) {
        int digit = day % 10;
        if (digit >= base) return -1;
        value += digit * multiplier;
        multiplier *= base;
        day /= 10;
    }
    return value;
}

int main() {
    int n;
    scanf("%d", &n);

    long long freq[MAX_MAP] = {0};

    for (int i = 0; i < n; i++) {
        int month, day;
        scanf("%d %d", &month, &day);
        int val = to_value_if_valid(month, day);
        if (val != -1) {
            freq[val]++;
        }
    }

    long long count = 0;
    for (int i = 0; i < MAX_MAP; i++) {
        if (freq[i] >= 2) {
            count += freq[i] * (freq[i] - 1) / 2;
        }
    }

    printf("%lld\n", count);
    return 0;
}
